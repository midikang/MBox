╔══════════════════════════════════════════════════════════════════════════════╗
║                    ImageSmall - 图片压缩工具 界面设计                         ║
╚══════════════════════════════════════════════════════════════════════════════╝

窗口标题栏
┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
┃ 图片压缩工具 - ImageSmall                                         ━  □  ✕  ┃
┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛

客户端区域 (784 × 461 像素)
┌──────────────────────────────────────────────────────────────────────────────┐
│  距离顶部: 12px, 距离左侧: 12px                                              │
│  ┏━━━━━━━━━━━━━┓  ┏━━━━━━━━━━━━━┓                                          │
│  ┃ 选择图片    ┃  ┃ 清空列表    ┃  ← 按钮 (120×30 px)                       │
│  ┗━━━━━━━━━━━━━┛  ┗━━━━━━━━━━━━━┛                                          │
│  ↑ 位置(12,12)    ↑ 位置(138,12)                                            │
│                                                                              │
│  文件列表框 (距离顶部: 48px)                                                 │
│  ┌────────────────────────────────────────────────────────────────────────┐ │
│  │ ListBox - 多选模式 (760 × 174 px)                                      │ │
│  │                                                                         │ │
│  │  □ photo1.jpg                                                          │ │
│  │  □ photo2.png                                                          │ │
│  │  □ landscape.jpg                                                       │ │
│  │  □ screenshot_2024.png                                                 │ │
│  │  □ family_vacation.jpg                                                 │ │
│  │                                                                         │ │
│  │  支持功能:                                                              │ │
│  │  • Ctrl + Click: 多选                                                  │ │
│  │  • Shift + Click: 范围选择                                             │ │
│  │  • 自动滚动条                                                           │ │
│  └────────────────────────────────────────────────────────────────────────┘ │
│  位置: (12, 48), 大小: (760, 174)                                           │
│                                                                              │
│  输出目录设置 (距离顶部: 233px)                                              │
│  ┌─ Label ────┐  ┌─ TextBox ──────────────────────────┐  ┌─ Button ──┐    │
│  │ 输出目录:  │  │ C:\Users\Desktop\压缩后的图片       │  │ 浏览...   │    │
│  └────────────┘  └────────────────────────────────────┘  └───────────┘    │
│  (12, 236)        (100, 233) 大小:(546, 25)               (652, 230)       │
│                                                                              │
│  压缩质量设置 (距离顶部: 325px)                                              │
│  ┌─ Label ──┐                                                               │
│  │压缩质量: │  ├────────────────────●─────────────────────────┤  ┌ Label ┐ │
│  └──────────┘  10                  75                      100  │  75%  │ │
│  (12, 330)     TrackBar (100, 325) 大小:(500, 45)              (620,330) │
│                                                                              │
│                最小值: 10, 最大值: 100, 默认: 75                            │
│                滚动时实时更新右侧百分比标签                                   │
│                                                                              │
│  进度条 (距离顶部: 376px)                                                    │
│  ┌────────────────────────────────────────────────────────────────────────┐ │
│  │ ████████████████████████████████░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░ │ │
│  └────────────────────────────────────────────────────────────────────────┘ │
│  ProgressBar (12, 376) 大小:(760, 23)                                       │
│  最小值: 0, 最大值: 文件数量, 当前值: 已处理数量                             │
│                                                                              │
│  底部控制 (距离顶部: 410px)                                                  │
│  ┏━━━━━━━━━━━━━┓  ┌─ Status Label ──────────────────────────────────────┐  │
│  ┃ 开始压缩    ┃  │ 状态: 正在压缩: photo2.png (2/5)                    │  │
│  ┗━━━━━━━━━━━━━┛  └─────────────────────────────────────────────────────┘  │
│  (12, 410)         (150, 418)                                               │
│  120×30 px         状态文本会根据操作实时更新                                │
│                                                                              │
└──────────────────────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════════════════════
  控件详细说明
═══════════════════════════════════════════════════════════════════════════════

1️⃣  btnSelectFiles (选择图片按钮)
   • 位置: (12, 12)
   • 大小: 120 × 30 像素
   • 文本: "选择图片"
   • 事件: btnSelectFiles_Click
   • 功能: 打开 OpenFileDialog，多选模式
   • 过滤器: "图片文件|*.jpg;*.jpeg;*.png;*.bmp;*.gif|所有文件|*.*"

2️⃣  btnClearList (清空列表按钮)
   • 位置: (138, 12)
   • 大小: 120 × 30 像素
   • 文本: "清空列表"
   • 事件: btnClearList_Click
   • 功能: 清空 selectedFiles 列表和 listBoxFiles

3️⃣  listBoxFiles (文件列表框)
   • 位置: (12, 48)
   • 大小: 760 × 174 像素
   • 选择模式: MultiExtended
   • 功能: 显示已选择的图片文件名

4️⃣  lblOutputFolder (输出目录标签)
   • 位置: (12, 236)
   • 文本: "输出目录:"

5️⃣  txtOutputFolder (输出目录文本框)
   • 位置: (100, 233)
   • 大小: 546 × 25 像素
   • 功能: 显示/输入输出目录路径

6️⃣  btnSelectOutput (浏览按钮)
   • 位置: (652, 230)
   • 大小: 120 × 30 像素
   • 文本: "浏览..."
   • 事件: btnSelectOutput_Click
   • 功能: 打开 FolderBrowserDialog

7️⃣  lblQuality (压缩质量标签)
   • 位置: (12, 330)
   • 文本: "压缩质量:"

8️⃣  trackBarQuality (质量滑块)
   • 位置: (100, 325)
   • 大小: 500 × 45 像素
   • 范围: 10 - 100
   • 默认: 75
   • 事件: trackBarQuality_Scroll
   • 功能: 调整 JPEG 压缩质量

9️⃣  lblQualityValue (质量值标签)
   • 位置: (620, 330)
   • 文本: "75%" (动态更新)
   • 功能: 显示当前滑块值

🔟 progressBar (进度条)
   • 位置: (12, 376)
   • 大小: 760 × 23 像素
   • 功能: 显示批量压缩进度

1️⃣1️⃣ btnCompress (开始压缩按钮)
   • 位置: (12, 410)
   • 大小: 120 × 30 像素
   • 文本: "开始压缩"
   • 事件: btnCompress_Click (async)
   • 功能: 启动批量压缩任务

1️⃣2️⃣ lblStatus (状态标签)
   • 位置: (150, 418)
   • 文本: "就绪" (动态更新)
   • 功能: 显示当前操作状态

═══════════════════════════════════════════════════════════════════════════════
  交互流程图
═══════════════════════════════════════════════════════════════════════════════

[启动应用]
    │
    ├─→ 初始化界面
    │   └─→ 质量滑块设为 75%
    │       状态显示 "就绪"
    │
[用户点击"选择图片"]
    │
    ├─→ 打开文件选择对话框
    │   └─→ 用户选择多个图片文件
    │       └─→ 文件添加到列表框
    │           └─→ 更新状态: "已选择 X 个文件"
    │
[用户调整质量滑块]
    │
    ├─→ trackBarQuality_Scroll 事件触发
    │   └─→ 更新质量值标签显示
    │
[用户点击"浏览..."]
    │
    ├─→ 打开文件夹选择对话框
    │   └─→ 更新输出目录文本框
    │
[用户点击"开始压缩"]
    │
    ├─→ 检查文件列表是否为空
    │   ├─→ [空] 显示提示对话框
    │   └─→ [非空] 开始压缩流程
    │       │
    │       ├─→ 禁用按钮(防止重复点击)
    │       ├─→ 创建输出目录(如果不存在)
    │       ├─→ 初始化进度条
    │       │
    │       └─→ 异步处理 (Task.Run)
    │           │
    │           ├─→ 遍历每个文件
    │           │   ├─→ 更新状态标签
    │           │   ├─→ 调用 CompressImage()
    │           │   │   ├─→ 加载图片
    │           │   │   ├─→ 根据格式选择编码器
    │           │   │   ├─→ 应用质量参数(JPEG)
    │           │   │   └─→ 保存压缩后的文件
    │           │   ├─→ 更新进度条 (+1)
    │           │   └─→ [出错] 显示错误对话框
    │           │
    │           └─→ 完成后
    │               ├─→ 启用按钮
    │               ├─→ 更新状态标签
    │               └─→ 显示完成对话框
    │
[用户点击"清空列表"]
    │
    └─→ 清空文件列表
        └─→ 更新状态: "已清空列表"

═══════════════════════════════════════════════════════════════════════════════
  颜色和样式
═══════════════════════════════════════════════════════════════════════════════

窗口属性:
• 标题: "图片压缩工具 - ImageSmall"
• 边框样式: FixedSingle (固定大小，不可调整)
• 最大化按钮: 禁用
• 启动位置: CenterScreen (屏幕中央)
• 大小: 784 × 461 像素

控件样式:
• 按钮: 标准 Windows 按钮样式
• 文本框: 标准单行文本框
• 列表框: 带滚动条的多选列表框
• 进度条: 标准 Windows 进度条
• 滑块: 标准横向滑块控件

═══════════════════════════════════════════════════════════════════════════════
  
                          界面设计完成 - ImageSmall
                          
═══════════════════════════════════════════════════════════════════════════════
